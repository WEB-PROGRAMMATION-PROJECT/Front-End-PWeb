<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>ESPACE STYLISTE</h1>
  </div>

  <div class="dashboard-content">
    <!-- Section Notifications -->
    <mat-card class="notifications-section">
      <mat-card-header>
        <mat-card-title>Notifications</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="notifications-list">
          <div *ngFor="let notification of notifications" 
               class="notification-item"
               [class.unread]="!notification.read"
               (click)="markAsRead(notification)">
            <mat-icon>notification_important</mat-icon>
            <div class="notification-content">
              <p class="message">{{notification.message}}</p>
              <p class="date">{{notification.date | date:'short'}}</p>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Section Formulaire -->
    <mat-card class="form-section">
      <mat-card-header>
        <mat-card-title>Ajouter un nouveau modèle</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <form (ngSubmit)="submitModel()" #modelForm="ngForm">
          <!-- Image Upload Section -->
          <div class="image-upload-container">
            <div class="image-preview" [class.has-image]="newModel.imagePreview">
              <img *ngIf="newModel.imagePreview" [src]="newModel.imagePreview" alt="Aperçu du modèle">
              <div *ngIf="!newModel.imagePreview" class="upload-placeholder">
                <mat-icon>add_photo_alternate</mat-icon>
                <span>Ajouter une image</span>
              </div>
            </div>
            <input type="file" 
                   #fileInput 
                   (change)="onFileSelected($event)"
                   accept="image/*"
                   style="display: none">
            <button type="button" 
                    mat-stroked-button 
                    (click)="fileInput.click()"
                    class="upload-button">
              <mat-icon>file_upload</mat-icon>
              Sélectionner une image
            </button>
          </div>

          <mat-form-field appearance="outline">
            <mat-label>Nom du modèle</mat-label>
            <input matInput [(ngModel)]="newModel.name" name="name" required>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Description</mat-label>
            <textarea matInput [(ngModel)]="newModel.description" name="description" required rows="4"></textarea>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Catégorie</mat-label>
            <input matInput [(ngModel)]="newModel.category" name="category" required>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Prix</mat-label>
            <input matInput type="number" [(ngModel)]="newModel.price" name="price" required>
            <span matPrefix>€&nbsp;</span>
          </mat-form-field>

          <button mat-raised-button color="primary" type="submit">
            Ajouter le modèle
          </button>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</div>